---
title: 装饰器模式详解
description: 深入解析装饰器模式的结构、角色、优缺点及 Java 实际应用
author: solutide
page: true
date: 2025-08-07
category: 设计模式
tag:
  - 设计模式
  - 装饰器模式
  - Java
  - 结构型模式
---
## 装饰器模式


**装饰器模式是一种结构型设计模式，允许** **动态地向对象添加新的行为** **，而无需修改其原始类。**

**这种模式通过创建一系列包装对象(装饰器) 来扩展功能，比继承更灵活**

### 基本角色

* **Component（组件接口）** **：定义对象的接口，可以动态添加职责**
* **ConcreteComponent（具体组件）** **：实现组件接口的具体对象**
* **Decorator（装饰器抽象类）** **：继承/实现组件接口，并持有组件对象的引用**
* **ConcreteDecorator（具体装饰器）** **：实现具体的装饰功能**

```
┌─────────────┐       ┌──────────────────┐
│  Component  │       │    Decorator     │
├─────────────┤       ├──────────────────┤
│ +operation()│<>-----│ -component:      │
└─────────────┘       │   Component      │
       ▲              │ +operation()     │
       │              │ +addedBehavior() │
       │              └──────────────────┘
┌─────────────┐                  ▲
│ConcreteComponent│              │
├─────────────┤      ┌─────────────────────┐
│ +operation()│      │ ConcreteDecoratorA  │
└─────────────┘      ├─────────────────────┤
                     │ +operation()        │
                     │ +addedBehaviorA()   │
                     └─────────────────────┘
```


### 优点

1. **比继承更灵活： 可以在运行时动态添加或移除功能**
2. **避免类爆炸： 不需要为每种功能组合创建子类**
3. **符合开闭原则： 无需修改原有代码即可扩展功能**
4. **可以嵌套使用：多个装饰器可以层层叠加**

### 缺点

1. **会产生许多小对象： 增加了他系统的复杂性**
2. **调试困难： 多层装饰可能会导致调试变得复杂**
3. **设计复杂度增加： 需要设计合理的装饰器层次结构**

### 使用场景

1. **需要动态、透明地添加或撤销功能**
2. **当继承不切实际时（如需要大量子类组合）**
3. **需要为对象添加的功能经常变化**
4. **不能或不希望使用子类进行扩展的情况**

### 与其他模式的关系

* **与代理模式：装饰器模式关注增强功能，代理模式关注控制访问**
* **与适配器模式：适配器改变接口，装饰器保持接口**
* **与组合模式：装饰器可以视为只有一个组件的组合**
